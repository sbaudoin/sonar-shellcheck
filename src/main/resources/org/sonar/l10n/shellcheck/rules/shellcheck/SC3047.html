<p>In POSIX sh, trapping ERR is undefined.</p>
<p>(or "In dash, ... is not supported." when using <code>dash</code>)</p>
<p>Also applies to RETURN and DEBUG.</p>
<h2>Problematic code</h2>
<pre><code class="lang-sh">#!/bin/sh
trap &#39;Command failed with $?&#39; ERR
</code></pre>
<h2>Correct code</h2>
<p>Switch to a shell like <code>ksh</code> or <code>bash</code> that <em>does</em> support the kind of trap you want:</p>
<pre><code class="lang-sh">#!/bin/bash
trap &#39;Command failed with $?&#39; ERR
</code></pre>
<p>Otherwise, rewrite the script to not rely on the trap.</p>
<h2>Rationale</h2>
<p>You are trying to install a trap that is not supported by your current shell (<code>dash</code> or POSIX <code>sh</code>). There is no simple replacement. The script should be rewritten to avoid depending on the trap, or simply be run with a shell that supports it.</p>
<h2>Exceptions</h2>
<p>If you only intend to target shells that supports this feature, you can change
the shebang to a shell that guarantees support, or [[ignore]] this warning.</p>
<p>You can use <code># shellcheck disable=SC3000-SC4000</code> to ignore all such compatibility
warnings.</p>
<h2>Related resources</h2>
<ul>
<li>Help by adding links to BashFAQ, StackOverflow, man pages, POSIX, etc!</li>
</ul>
